# craft-a-language
极客时间《手把手带你写一门计算机语言》课程代码TypeScript改写Go版本

* [01 实现简洁语言](01/main.go)
  - 目标：让代码理解并解释执行程序，这里为了降低难度直接使用完成词法分析的Token，解析一个函数的声明和调用。
  - 解析：解析就是把程序转换为可理解的数据结构，抽象语法树。使用了递归下降算法
  - 语义分析：引用消解，关联函数调用和函数的定义
  - 解释执行：深度优先遍历，遇到函数声明跳过，遇到函数调用执行，这版只支持println函数

* [02 词法分析](02/main.go)
  - 目标：通过词法分析，将程序转换为Token串
  - 词法规则：使用词法规则（一般是正则文法）描述每个Token，基于此处理程序
  - 分析：尝试依次匹配不同的规则直到成功；去除注释和空白符
  - 优化：预读，不再使用尝试解析和回溯的方法


## TypeScript改写Go经验
* TS中使用interface Token{}声明数据结构，Go中使用type Token struct{}代替
* TS中的enum，Go中使用const
* TS中的抽象类
  - 只有抽象方法的，Go中使用interface
* TS中的构造函数，Go中使用创建函数`NewXXX()`来代替
* TS中的继承 a extends b, Go中使用嵌入组合来代替